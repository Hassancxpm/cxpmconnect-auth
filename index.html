<!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <title>Reset password success</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" charset="utf-8"></script>
      </head>
      <body>
        <div id="cxpmClientAccountWidget"
           data-salon="sial"
           data-sessionSalon="sial_2020"
           data-application="88e4012a56c4a80dbcfe831fa21a453fca9da353"
           data-language="eng-GB"
           >
          <!-- Nothing here -->
        </div>

        <script src="https://connect.prod.comexposium-webservices.com/js/loader.min.js"></script>

        <script type="text/javascript">
          $(document).on("comexposiumConnectLoaded", function(){
            console.log("ComexposiumConnect loaded");
            comexposiumCap.openCap('request-password');
          });

          let handler = {
              makeThings: 0
          };
          let globalHandler = new Proxy(handler, {
              set: function(obj, prop, value) {
                  obj[prop] = value
                  if (prop == "makeThings") {
                      let observer = new MutationObserver(function(mutations) {
                          if ($('a[data-captarget="update-password"]').length) {
                              // console.log("Exist, lets do something");
                              $('a[data-captarget="update-password"]').click();
                              if ($('#update-password').length) {
                                observer.disconnect();
                              }
                          }
                      });
                      // start observing
                      observer.observe(document.body, {
                          childList: true,
                          subtree: true
                      });
                  }
                  return true;
              }
          });

          $(document).on('comexposiumConnectLogged', function(event, email, token, isExhibitor) {
            console.log(email, token, isExhibitor);
            globalHandler.makeThings = 1;
            comexposiumCap.openCap("my-account");
          });
        </script>
      </body>
    </html>